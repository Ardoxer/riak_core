<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Module riak_core_gossip</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<hr>

<h1>Module riak_core_gossip</h1>
<ul class="index"><li><a href="#description">Description</a></li><li><a href="#index">Function Index</a></li><li><a href="#functions">Function Details</a></li></ul>riak_core_gossip takes care of the mechanics of shuttling a from one  
node to another upon request by other Riak processes.

<p><b>Behaviours:</b> <a href="gen_server.html"><tt>gen_server</tt></a>.</p>

<h2><a name="description">Description</a></h2><p>riak_core_gossip takes care of the mechanics of shuttling a from one  
node to another upon request by other Riak processes.</p>
 
  Additionally, it occasionally checks to make sure the current node has its
  fair share of partitions, and also sends a copy of the ring to some other
  random node, ensuring that all nodes eventually synchronize on the same
  understanding of the Riak cluster. This interval is configurable, but
  defaults to once per minute.
<h2><a name="index">Function Index</a></h2>
<table width="100%" border="1" cellspacing="0" cellpadding="2" summary="function index"><tr><td valign="top"><a href="#any_legacy_gossip-2">any_legacy_gossip/2</a></td><td>Determine if any of the <code>Nodes</code> are using legacy gossip by querying
       each node's capability directly over RPC.</td></tr>
<tr><td valign="top"><a href="#distribute_ring-1">distribute_ring/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#gossip_version-0">gossip_version/0</a></td><td></td></tr>
<tr><td valign="top"><a href="#handle_call-3">handle_call/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#handle_info-2">handle_info/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#legacy_gossip-0">legacy_gossip/0</a></td><td></td></tr>
<tr><td valign="top"><a href="#legacy_gossip-1">legacy_gossip/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#random_gossip-1">random_gossip/1</a></td><td>Gossip state to a random node in the ring.</td></tr>
<tr><td valign="top"><a href="#random_recursive_gossip-1">random_recursive_gossip/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#recursive_gossip-1">recursive_gossip/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#rejoin-2">rejoin/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#remove_from_cluster-2">remove_from_cluster/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#remove_from_cluster-3">remove_from_cluster/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#send_ring-1">send_ring/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#send_ring-2">send_ring/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#start_link-0">start_link/0</a></td><td></td></tr>
<tr><td valign="top"><a href="#stop-0">stop/0</a></td><td></td></tr>
</table>

<h2><a name="functions">Function Details</a></h2>

<h3 class="function"><a name="any_legacy_gossip-2">any_legacy_gossip/2</a></h3>
<div class="spec">
<p><tt>any_legacy_gossip(Ring, Nodes) -&gt; any()</tt></p>
</div><p>Determine if any of the <code>Nodes</code> are using legacy gossip by querying
       each node's capability directly over RPC. The proper way to check
       for legacy gossip is to use <a href="#legacy_gossip-1"><code>legacy_gossip/1</code></a>. This function
       is used to support staged clustering in <code>riak_core_claimant</code>.</p>

<h3 class="function"><a name="distribute_ring-1">distribute_ring/1</a></h3>
<div class="spec">
<p><tt>distribute_ring(Ring) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="gossip_version-0">gossip_version/0</a></h3>
<div class="spec">
<p><tt>gossip_version() -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="handle_call-3">handle_call/3</a></h3>
<div class="spec">
<p><tt>handle_call(X1, From, State) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="handle_info-2">handle_info/2</a></h3>
<div class="spec">
<p><tt>handle_info(Info, State) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="legacy_gossip-0">legacy_gossip/0</a></h3>
<div class="spec">
<p><tt>legacy_gossip() -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="legacy_gossip-1">legacy_gossip/1</a></h3>
<div class="spec">
<p><tt>legacy_gossip(Node) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="random_gossip-1">random_gossip/1</a></h3>
<div class="spec">
<p><tt>random_gossip(Ring) -&gt; any()</tt></p>
</div><p>Gossip state to a random node in the ring.</p>

<h3 class="function"><a name="random_recursive_gossip-1">random_recursive_gossip/1</a></h3>
<div class="spec">
<p><tt>random_recursive_gossip(Ring) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="recursive_gossip-1">recursive_gossip/1</a></h3>
<div class="spec">
<p><tt>recursive_gossip(Ring) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="rejoin-2">rejoin/2</a></h3>
<div class="spec">
<p><tt>rejoin(Node, Ring) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="remove_from_cluster-2">remove_from_cluster/2</a></h3>
<div class="spec">
<p><tt>remove_from_cluster(Ring, ExitingNode) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="remove_from_cluster-3">remove_from_cluster/3</a></h3>
<div class="spec">
<p><tt>remove_from_cluster(Ring, ExitingNode, Seed) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="send_ring-1">send_ring/1</a></h3>
<div class="spec">
<p><tt>send_ring(ToNode) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="send_ring-2">send_ring/2</a></h3>
<div class="spec">
<p><tt>send_ring(Node, ToNode) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="start_link-0">start_link/0</a></h3>
<div class="spec">
<p><tt>start_link() -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="stop-0">stop/0</a></h3>
<div class="spec">
<p><tt>stop() -&gt; any()</tt></p>
</div>
<hr>

<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Feb 14 2013, 15:00:14.</i></p>
</body>
</html>
